'use client';

import "../globals.css";
import { useEffect } from "react";

export default function OnlineEstimatePage() {
  useEffect(() => {
    try {
      const code = "(function(){\n  /* =========================\n     CONFIG\n  ========================== */\n  var TRUMOVE = {\n    inboxEmail: \"info@trumoveinc.com\",\n    bookingUrl: \"https://trumoveinc.com/book-video%2Fphone-consult\",\n    callNumberE164: \"\" // later example: \"18005551234\"\n  };\n\n  /* =========================\n     STATE\n  ========================== */\n  var inventory = [];\n  var totalItems = 0;\n  var totalWeight = 0;\n  var moveType = \"auto\"; // \"auto\" | \"local\" | \"long\"\n\n  /* =========================\n     ELEMENTS\n  ========================== */\n  // Inventory\n  var tableBody = document.getElementById(\"invTableBody\");\n  var totalItemsEl = document.getElementById(\"invTotalItems\");\n  var totalWeightEl = document.getElementById(\"invTotalWeight\");\n  var moveSizeLabelEl = document.getElementById(\"invMoveSizeLabel\");\n\n  var nameInput = document.getElementById(\"invItemName\");\n  var roomSelect = document.getElementById(\"invRoom\");\n  var qtyInput = document.getElementById(\"invQty\");\n  var weightInput = document.getElementById(\"invWeight\");\n  var addBtn = document.getElementById(\"invAddBtn\");\n\n  var roomTabs = document.querySelectorAll(\"#invRoomTabs .tru-inv-room-tab\");\n  var suggestList = document.getElementById(\"invSuggestList\");\n\n  var printBtn = document.getElementById(\"invPrintBtn\");\n  var pdfBtn = document.getElementById(\"invPdfBtn\");\n\n  // Quote inputs\n  var quoteFromInput = document.getElementById(\"quoteFrom\");\n  var quoteToInput = document.getElementById(\"quoteTo\");\n  var quoteDistanceInput = document.getElementById(\"quoteDistance\");\n  var quoteDateInput = document.getElementById(\"quoteDate\");\n  var quoteNameInput = document.getElementById(\"quoteName\");\n  var quoteEmailInput = document.getElementById(\"quoteEmail\");\n  var quotePhoneInput = document.getElementById(\"quotePhone\");\n\n  var moveTypeButtons = document.querySelectorAll(\"#quoteTypeRow .tru-quote-type-pill\");\n  var finalizeBtn = document.getElementById(\"quoteFinalizeBtn\");\n\n  // Snapshot\n  var snapFromEl = document.getElementById(\"snapFrom\");\n  var snapToEl = document.getElementById(\"snapTo\");\n  var snapDistanceEl = document.getElementById(\"snapDistance\");\n  var snapMoveTypeEl = document.getElementById(\"snapMoveType\");\n  var snapDateEl = document.getElementById(\"snapDate\");\n  var snapWeightEl = document.getElementById(\"snapWeight\");\n\n  // Rough estimate box (inside snapshot)\n  var roughPriceEl = document.getElementById(\"invRoughPrice\");\n  var sizePillTextEl = document.getElementById(\"invSizePillText\");\n  var snapSizeChip = document.getElementById(\"snapSizeChip\");\n  var snapSizeText = document.getElementById(\"snapSizeText\");\n\n  // Booking CTAs\n  var quoteVideoBtn = document.getElementById(\"quoteVideoBtn\");\n  var quoteCallBtn = document.getElementById(\"quoteCallBtn\");\n\n  /* =========================\n     SUGGESTIONS DATA\n  ========================== */\n  var suggestionData = [\n    { room:\"Living Room\", name:\"Sofa\", weight:150 },\n    { room:\"Living Room\", name:\"Coffee table\", weight:40 },\n    { room:\"Living Room\", name:\"TV stand\", weight:60 },\n    { room:\"Living Room\", name:\"Television\", weight:40 },\n    { room:\"Living Room\", name:\"Bookshelf\", weight:70 },\n\n    { room:\"Bedroom\", name:\"Queen bed frame\", weight:120 },\n    { room:\"Bedroom\", name:\"Mattress\", weight:100 },\n    { room:\"Bedroom\", name:\"Dresser\", weight:120 },\n    { room:\"Bedroom\", name:\"Nightstands\", weight:40 },\n    { room:\"Bedroom\", name:\"Wardrobe\", weight:130 },\n\n    { room:\"Kitchen\", name:\"Dining table\", weight:110 },\n    { room:\"Kitchen\", name:\"Dining chairs\", weight:15 },\n    { room:\"Kitchen\", name:\"Bar stools\", weight:15 },\n    { room:\"Kitchen\", name:\"Microwave\", weight:40 },\n    { room:\"Kitchen\", name:\"Boxes, kitchen items\", weight:50 },\n\n    { room:\"Garage\", name:\"Tool chest\", weight:90 },\n    { room:\"Garage\", name:\"Bicycle\", weight:35 },\n    { room:\"Garage\", name:\"Storage bins\", weight:30 },\n    { room:\"Garage\", name:\"Lawn mower\", weight:80 },\n    { room:\"Garage\", name:\"Sports equipment\", weight:40 }\n  ];\n\n  /* =========================\n     HELPERS\n  ========================== */\n  function safeNum(n){\n    var x = parseFloat(n);\n    return (isNaN(x) || !isFinite(x)) ? 0 : x;\n  }\n\n  function escapeHtml(s){\n    return String(s || \"\")\n      .replace(/&/g,\"&amp;\")\n      .replace(/</g,\"&lt;\")\n      .replace(/>/g,\"&gt;\")\n      .replace(/\"/g,\"&quot;\")\n      .replace(/'/g,\"&#039;\");\n  }\n\n  function formatMoney(n){\n    var v = Math.round(n);\n    return \"$\" + v.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n\n  function formatPriceRange(basePrice){\n    if(!basePrice || basePrice <= 0) return \"$0\";\n    var low = Math.round(basePrice * 0.9);\n    var high = Math.round(basePrice * 1.15);\n    if(low === high) return formatMoney(low);\n    return formatMoney(low) + \" - \" + formatMoney(high);\n  }\n\n  function getMoveSizeLabel(weight){\n    if(weight === 0) return \"Waiting on items\u2026\";\n    if(weight <= 1200) return \"Studio or small one bedroom\";\n    if(weight <= 3000) return \"One to two bedroom home\";\n    if(weight <= 6000) return \"Two to three bedroom home\";\n    if(weight <= 9000) return \"Three to four bedroom home\";\n    return \"Large home or multi load move\";\n  }\n\n  function getEffectiveMoveType(distance){\n    if(moveType === \"local\") return \"local\";\n    if(moveType === \"long\") return \"long\";\n    if(distance && distance > 0){\n      return (distance <= 150) ? \"local\" : \"long\";\n    }\n    return \"auto\";\n  }\n\n  /* =========================\n     PRICING PLACEHOLDER\n     You said you will provide real formulas later.\n  ========================== */\n  function calculatePrice(weight, distance, type){\n    if(!weight || weight <= 0 || !distance || distance <= 0) return 0;\n\n    var ratePerLb;\n\n    if(distance <= 200){\n      if(weight >= 4000) ratePerLb = 0.5;\n      else if(weight >= 2000) ratePerLb = 0.6;\n      else ratePerLb = 0.7;\n    } else if(distance <= 800){\n      if(weight >= 4000) ratePerLb = 0.7;\n      else if(weight >= 2000) ratePerLb = 0.8;\n      else ratePerLb = 0.9;\n    } else {\n      if(weight >= 4000) ratePerLb = 0.8;\n      else if(weight >= 2000) ratePerLb = 0.9;\n      else ratePerLb = 1.0;\n    }\n\n    if(type === \"local\" && distance <= 150) ratePerLb *= 0.9;\n\n    return weight * ratePerLb;\n  }\n\n  /* =========================\n     INVENTORY LOGIC\n  ========================== */\n  function addItem(item){\n    inventory.push(item);\n    renderTable();\n    updateTotals();\n    renderSuggestions();\n  }\n\n  function renderTable(){\n    if(inventory.length === 0){\n      tableBody.innerHTML = '<tr><td colspan=\"6\" class=\"tru-inv-empty\">No items yet. Start by adding a sofa, bed, or boxes.</td></tr>';\n      return;\n    }\n\n    var rows = inventory.map(function(item, index){\n      var qty = safeNum(item.quantity) || 1;\n      if(qty < 1) qty = 1;\n\n      var each = safeNum(item.weight);\n      if(each < 0) each = 0;\n\n      var total = Math.round(qty * each);\n\n      return (\n        \"<tr>\" +\n          \"<td>\" + escapeHtml(item.name) + \"</td>\" +\n          \"<td>\" + escapeHtml(item.room) + \"</td>\" +\n          '<td><input type=\"number\" class=\"tru-inv-cell-input\" min=\"1\" data-index=\"' + index + '\" data-field=\"quantity\" value=\"' + qty + '\"></td>' +\n          '<td><input type=\"number\" class=\"tru-inv-cell-input\" min=\"0\" data-index=\"' + index + '\" data-field=\"weightEach\" value=\"' + Math.round(each) + '\"></td>' +\n          '<td><input type=\"number\" class=\"tru-inv-cell-input\" min=\"0\" data-index=\"' + index + '\" data-field=\"totalWeight\" value=\"' + total + '\"></td>' +\n          '<td><button type=\"button\" class=\"tru-inv-remove-btn\" data-index=\"' + index + '\">\u2715</button></td>' +\n        \"</tr>\"\n      );\n    }).join(\"\");\n\n    tableBody.innerHTML = rows;\n\n    // Remove handlers\n    tableBody.querySelectorAll(\".tru-inv-remove-btn\").forEach(function(btn){\n      btn.addEventListener(\"click\", function(){\n        var idx = parseInt(btn.getAttribute(\"data-index\"), 10);\n        inventory.splice(idx, 1);\n        renderTable();\n        updateTotals();\n        renderSuggestions();\n      });\n    });\n\n    // Cell edit handlers\n    tableBody.querySelectorAll(\".tru-inv-cell-input\").forEach(function(input){\n      input.addEventListener(\"input\", function(){\n        var idx = parseInt(input.getAttribute(\"data-index\"), 10);\n        var field = input.getAttribute(\"data-field\");\n        var val = safeNum(input.value);\n\n        var item = inventory[idx];\n        if(!item) return;\n\n        if(field === \"quantity\"){\n          if(val < 1) val = 1;\n          item.quantity = val;\n          input.value = val;\n        }\n\n        if(field === \"weightEach\"){\n          if(val < 0) val = 0;\n          item.weight = val;\n        }\n\n        if(field === \"totalWeight\"){\n          if(val < 0) val = 0;\n          var q = safeNum(item.quantity) || 1;\n          var newEach = (q > 0) ? (val / q) : 0;\n          item.weight = newEach;\n\n          var eachInput = tableBody.querySelector('.tru-inv-cell-input[data-index=\"' + idx + '\"][data-field=\"weightEach\"]');\n          if(eachInput) eachInput.value = Math.round(newEach);\n        }\n\n        // Keep total cell synced\n        var totalCell = tableBody.querySelector('.tru-inv-cell-input[data-index=\"' + idx + '\"][data-field=\"totalWeight\"]');\n        if(totalCell){\n          totalCell.value = Math.round((safeNum(item.quantity) || 1) * safeNum(item.weight));\n        }\n\n        updateTotals();\n      });\n    });\n  }\n\n  function updateTotals(){\n    totalItems = 0;\n    totalWeight = 0;\n\n    inventory.forEach(function(it){\n      totalItems += safeNum(it.quantity);\n      totalWeight += safeNum(it.quantity) * safeNum(it.weight);\n    });\n\n    totalItemsEl.textContent = totalItems;\n    totalWeightEl.textContent = totalWeight + \" lbs\";\n    moveSizeLabelEl.textContent = getMoveSizeLabel(totalWeight);\n\n    snapWeightEl.textContent = totalWeight + \" lbs\";\n    updateSnapshot();\n  }\n\n  addBtn.addEventListener(\"click\", function(){\n    var name = (nameInput.value || \"\").trim();\n    if(!name){ nameInput.focus(); return; }\n\n    var room = roomSelect.value;\n    var qty = parseInt(qtyInput.value, 10);\n    if(isNaN(qty) || qty < 1) qty = 1;\n\n    var w = safeNum(weightInput.value);\n    if(w < 0) w = 0;\n\n    addItem({ name:name, room:room, quantity:qty, weight:w });\n\n    nameInput.value = \"\";\n    qtyInput.value = \"1\";\n    weightInput.value = \"\";\n    nameInput.focus();\n  });\n\n  /* =========================\n     SUGGESTIONS\n  ========================== */\n  function renderSuggestions(){\n    var activeTab = document.querySelector(\"#invRoomTabs .tru-inv-room-tab.active\");\n    var activeRoom = activeTab ? (activeTab.getAttribute(\"data-room\") || \"Living Room\") : \"Living Room\";\n\n    var itemsForRoom = suggestionData.filter(function(s){ return s.room === activeRoom; });\n\n    suggestList.innerHTML = itemsForRoom.map(function(s){\n      var already = inventory.some(function(it){\n        return it.name === s.name && it.room === s.room;\n      });\n      var usedClass = already ? \" used\" : \"\";\n      return '<button type=\"button\" class=\"tru-inv-suggest-pill' + usedClass + '\" data-name=\"' +\n        escapeHtml(s.name) + '\" data-room=\"' + escapeHtml(s.room) + '\" data-weight=\"' + s.weight + '\">' +\n        escapeHtml(s.name) + \"</button>\";\n    }).join(\"\");\n\n    suggestList.querySelectorAll(\".tru-inv-suggest-pill\").forEach(function(pill){\n      pill.addEventListener(\"click\", function(){\n        var n = pill.getAttribute(\"data-name\");\n        var r = pill.getAttribute(\"data-room\");\n        var w = safeNum(pill.getAttribute(\"data-weight\"));\n        addItem({ name:n, room:r, quantity:1, weight:w });\n      });\n    });\n  }\n\n  roomTabs.forEach(function(tab){\n    tab.addEventListener(\"click\", function(){\n      roomTabs.forEach(function(t){ t.classList.remove(\"active\"); });\n      tab.classList.add(\"active\");\n      renderSuggestions();\n    });\n  });\n\n  /* =========================\n     PRINT / PDF\n  ========================== */\n  function openInventoryPrintWindow(){\n    var w = window.open(\"\", \"_blank\");\n    if(!w) return;\n\n    var html = '<html><head><title>Your TruMove Inventory</title></head><body class=\"tru-print-inventory\">';\n    html += \"<h1>Your move inventory</h1>\";\n    html += \"<p>Generated from TruMove inventory builder.</p>\";\n    html += \"<p><strong>Total items:</strong> \" + totalItems + \" &nbsp; | &nbsp; <strong>Estimated total weight:</strong> \" + totalWeight + \" lbs</p>\";\n\n    if(inventory.length > 0){\n      html += \"<table><thead><tr><th>Item</th><th>Room</th><th>Qty</th><th>Weight each (lbs)</th><th>Total weight (lbs)</th></tr></thead><tbody>\";\n      inventory.forEach(function(it){\n        var rowW = (safeNum(it.quantity) || 1) * safeNum(it.weight);\n        html += \"<tr><td>\" + escapeHtml(it.name) + \"</td><td>\" + escapeHtml(it.room) + \"</td><td>\" +\n          (safeNum(it.quantity) || 1) + \"</td><td>\" + Math.round(safeNum(it.weight)) + \"</td><td>\" +\n          Math.round(rowW) + \"</td></tr>\";\n      });\n      html += \"</tbody></table>\";\n    } else {\n      html += \"<p>No items added yet.</p>\";\n    }\n\n    html += \"</body></html>\";\n    w.document.open();\n    w.document.write(html);\n    w.document.close();\n    w.focus();\n    w.print();\n  }\n\n  printBtn.addEventListener(\"click\", openInventoryPrintWindow);\n  pdfBtn.addEventListener(\"click\", openInventoryPrintWindow);\n\n  /* =========================\n     SNAPSHOT + ROUGH ESTIMATE\n  ========================== */\n  function updateSnapshot(){\n    var from = (quoteFromInput.value || \"\").trim();\n    var to = (quoteToInput.value || \"\").trim();\n    var dist = safeNum(quoteDistanceInput.value);\n    var dateVal = quoteDateInput.value;\n\n    snapFromEl.textContent = from || \"Not set\";\n    snapToEl.textContent = to || \"Not set\";\n    snapDistanceEl.textContent = dist > 0 ? (dist + \" miles\") : \"Add miles\";\n\n    // Move type label\n    if(moveType === \"local\"){\n      snapMoveTypeEl.textContent = \"Local move\";\n    } else if(moveType === \"long\"){\n      snapMoveTypeEl.textContent = \"Long distance move\";\n    } else if(dist > 0){\n      snapMoveTypeEl.textContent = (dist <= 150) ? \"Local (auto based on miles)\" : \"Long distance (auto based on miles)\";\n    } else {\n      snapMoveTypeEl.textContent = \"Auto based on miles\";\n    }\n\n    // Date formatting\n    if(dateVal){\n      var d = new Date(dateVal + \"T00:00:00\");\n      if(!isNaN(d.getTime())){\n        snapDateEl.textContent = d.toLocaleDateString(undefined, { month:\"short\", day:\"numeric\", year:\"numeric\" });\n      } else {\n        snapDateEl.textContent = \"Select date\";\n      }\n    } else {\n      snapDateEl.textContent = \"Select date\";\n    }\n\n    // Rough estimate box updates\n    if(!totalWeight || totalWeight <= 0){\n      roughPriceEl.textContent = \"$0\";\n      sizePillTextEl.textContent = \"Add items in Step 1 to see a starting range.\";\n      snapSizeChip.style.display = \"none\";\n      return;\n    }\n\n    var sizeLabel = getMoveSizeLabel(totalWeight);\n    snapSizeChip.style.display = \"inline-flex\";\n    snapSizeText.textContent = sizeLabel + \" based on your inventory.\";\n\n    if(!dist || dist <= 0){\n      roughPriceEl.textContent = \"$0\";\n      sizePillTextEl.textContent = \"Add approximate distance in miles to see a more accurate range.\";\n      return;\n    }\n\n    var effType = getEffectiveMoveType(dist);\n    var pricedType = (effType === \"auto\") ? \"long\" : effType;\n\n    var basePrice = calculatePrice(totalWeight, dist, pricedType);\n    roughPriceEl.textContent = formatPriceRange(basePrice);\n    sizePillTextEl.textContent = \"Estimate updates as your inventory and route details change.\";\n  }\n\n  // Snapshot listeners\n  [quoteFromInput, quoteToInput, quoteDistanceInput, quoteNameInput, quoteEmailInput, quotePhoneInput].forEach(function(el){\n    el.addEventListener(\"input\", updateSnapshot);\n  });\n  quoteDateInput.addEventListener(\"change\", updateSnapshot);\n\n  // Move type buttons\n  moveTypeButtons.forEach(function(btn){\n    btn.addEventListener(\"click\", function(){\n      moveTypeButtons.forEach(function(b){ b.classList.remove(\"active\"); });\n      btn.classList.add(\"active\");\n      moveType = btn.getAttribute(\"data-type\") || \"auto\";\n      updateSnapshot();\n    });\n  });\n\n  /* =========================\n     BOOKING BUTTONS\n     Full page redirect, not an embed\n  ========================== */\n  function goBooking(){\n    window.location.assign(TRUMOVE.bookingUrl);\n  }\n  quoteVideoBtn.addEventListener(\"click\", goBooking);\n  quoteCallBtn.addEventListener(\"click\", goBooking);\n\n  /* =========================\n     FINALIZE: EMAIL + OPTIONAL CALL PROMPT\n  ========================== */\n  function buildEmailBody(){\n    var from = (quoteFromInput.value || \"\").trim();\n    var to = (quoteToInput.value || \"\").trim();\n    var dist = safeNum(quoteDistanceInput.value);\n    var dateVal = quoteDateInput.value || \"\";\n    var fullName = (quoteNameInput.value || \"\").trim();\n    var email = (quoteEmailInput.value || \"\").trim();\n    var phone = (quotePhoneInput.value || \"\").trim();\n\n    var effType = getEffectiveMoveType(dist);\n    var typeLabel;\n    if(moveType === \"local\") typeLabel = \"Local\";\n    else if(moveType === \"long\") typeLabel = \"Long Distance\";\n    else if(effType === \"local\") typeLabel = \"Local (Auto)\";\n    else if(effType === \"long\") typeLabel = \"Long Distance (Auto)\";\n    else typeLabel = \"Auto\";\n\n    var pricedType = (effType === \"auto\") ? \"long\" : effType;\n    var base = (totalWeight > 0 && dist > 0) ? calculatePrice(totalWeight, dist, pricedType) : 0;\n    var rough = formatPriceRange(base);\n\n    var lines = [];\n    lines.push(\"NEW TRUMOVE QUOTE REQUEST\");\n    lines.push(\"\");\n    lines.push(\"Customer\");\n    lines.push(\"Name: \" + (fullName || \"Not provided\"));\n    lines.push(\"Email: \" + (email || \"Not provided\"));\n    lines.push(\"Phone: \" + (phone || \"Not provided\"));\n    lines.push(\"\");\n    lines.push(\"Move Details\");\n    lines.push(\"From: \" + (from || \"Not set\"));\n    lines.push(\"To: \" + (to || \"Not set\"));\n    lines.push(\"Distance (miles): \" + (dist > 0 ? dist : \"Not set\"));\n    lines.push(\"Move type: \" + typeLabel);\n    lines.push(\"Target move date: \" + (dateVal || \"Not set\"));\n    lines.push(\"\");\n    lines.push(\"Inventory Summary\");\n    lines.push(\"Total items: \" + totalItems);\n    lines.push(\"Estimated total weight: \" + totalWeight + \" lbs\");\n    lines.push(\"Estimated move size: \" + getMoveSizeLabel(totalWeight));\n    lines.push(\"\");\n    lines.push(\"Rough Estimate\");\n    lines.push(rough);\n    lines.push(\"\");\n    lines.push(\"Inventory Line Items\");\n    if(inventory.length === 0){\n      lines.push(\"No items added.\");\n    } else {\n      inventory.forEach(function(it, i){\n        var q = safeNum(it.quantity) || 1;\n        var w = safeNum(it.weight);\n        var tw = Math.round(q * w);\n        lines.push((i + 1) + \". \" + (it.name || \"\") + \" | Room: \" + (it.room || \"\") + \" | Qty: \" + q + \" | Each lbs: \" + Math.round(w) + \" | Total lbs: \" + tw);\n      });\n    }\n    lines.push(\"\");\n    lines.push(\"Note: This is an estimate based on the information provided. Final pricing depends on access details, timing, and any inventory changes.\");\n\n    return lines.join(\"\\n\");\n  }\n\n  function openMailTo(){\n    var subject = \"TruMove Quote Request\";\n    var body = buildEmailBody();\n\n    var mailto = \"mailto:\" + encodeURIComponent(TRUMOVE.inboxEmail) +\n      \"?subject=\" + encodeURIComponent(subject) +\n      \"&body=\" + encodeURIComponent(body);\n\n    window.location.href = mailto;\n  }\n\n  function maybeTriggerCall(){\n    if(!TRUMOVE.callNumberE164) return;\n    setTimeout(function(){\n      var num = TRUMOVE.callNumberE164.replace(/[^\\d]/g,\"\");\n      if(!num) return;\n      window.location.href = \"tel:+\" + num;\n    }, 700);\n  }\n\n  finalizeBtn.addEventListener(\"click\", function(){\n    updateSnapshot();\n    openMailTo();\n    maybeTriggerCall();\n  });\n\n  /* =========================\n     INIT\n  ========================== */\n  renderSuggestions();\n  updateTotals();\n  updateSnapshot();\n})();";
      // Run the original page script after hydration
      // eslint-disable-next-line no-new-func
      new Function(code)();
    } catch (e) {
      console.error("Online estimate script error:", e);
    }
  }, []);

  return (
    <main dangerouslySetInnerHTML={{ __html: "<!-- TRUMOVE \u2013 INVENTORY + QUOTE (WHITE THEME, CLEAN REBUILD, ROUGH ESTIMATE IN SNAPSHOT, EMAIL ON FINALIZE) -->\n\n\n<div class=\"tru-quote-wrap\">\n  <div class=\"tru-quote-inner\">\n\n    <!-- Header -->\n    <div class=\"tru-quote-header\">\n      <div class=\"tru-quote-header-main\">\n        <div class=\"tru-quote-header-tagrow\">\n          <span class=\"tru-quote-kicker\">Instant moving quote</span>\n          <span class=\"tru-quote-kicker-pill\">Powered by TruMove AI</span>\n        </div>\n\n        <h2 class=\"tru-quote-heading\">Build your inventory, then let TruMove calculate a live estimate.</h2>\n\n        <p class=\"tru-quote-sub\">\n          Start with a simple inventory so TruMove can estimate your total weight and move size.\n          Then add your route and date to see a live price range and lock in a call or video consult.\n        </p>\n\n        <div class=\"tru-quote-steps-row\">\n          <div class=\"tru-quote-step-chip\">\n            <span class=\"step-num\">1</span>\n            <span class=\"step-text\">Build your inventory list</span>\n          </div>\n          <div class=\"tru-quote-step-chip\">\n            <span class=\"step-num\">2</span>\n            <span class=\"step-text\">Get your estimate and schedule</span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"tru-quote-header-side\">\n        <div class=\"tru-quote-header-side-label\">What you get</div>\n        <ul class=\"tru-quote-header-list\">\n          <li>Weight and size estimate based on your items</li>\n          <li>Smart pricing that adjusts to distance and load</li>\n          <li>Option to book a video walkthrough or call</li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- Step 1 -->\n    <div class=\"tru-quote-step-card\" id=\"truQuoteStep1\">\n      <div class=\"tru-quote-step-header\">\n        <div class=\"tru-quote-step-title\">Step 1, Build your inventory list</div>\n        <div class=\"tru-quote-step-pill\">TruMove AI, Weight and size estimate</div>\n      </div>\n\n      <p class=\"tru-quote-step-sub\">\n        Start with quick add items by room, then add anything custom. TruMove will estimate your total weight and move size,\n        then use it in your quote below.\n      </p>\n\n      <div class=\"tru-inv-grid\">\n        <!-- Left -->\n        <div class=\"tru-inv-left\">\n          <div class=\"tru-inv-suggest-head\">\n            <div class=\"tru-inv-suggest-title\">Quick add by room</div>\n            <div class=\"tru-inv-room-tabs\" id=\"invRoomTabs\">\n              <button type=\"button\" class=\"tru-inv-room-tab active\" data-room=\"Living Room\">Living</button>\n              <button type=\"button\" class=\"tru-inv-room-tab\" data-room=\"Bedroom\">Bedroom</button>\n              <button type=\"button\" class=\"tru-inv-room-tab\" data-room=\"Kitchen\">Kitchen</button>\n              <button type=\"button\" class=\"tru-inv-room-tab\" data-room=\"Garage\">Garage</button>\n            </div>\n          </div>\n\n          <div class=\"tru-inv-suggest-note\">Tap items below to instantly add commonly moved pieces for this room.</div>\n          <div class=\"tru-inv-suggest-list\" id=\"invSuggestList\"></div>\n\n          <div class=\"tru-inv-divider-line\"></div>\n          <div class=\"tru-inv-custom-label\">Or add a custom item</div>\n\n          <form onsubmit=\"return false;\" id=\"truInvForm\">\n            <div class=\"tru-inv-form-group\">\n              <div class=\"tru-inv-label\">Item name</div>\n              <input type=\"text\" id=\"invItemName\" class=\"tru-inv-input\" placeholder=\"Sofa, dining table, TV stand\">\n            </div>\n\n            <div class=\"tru-inv-inline tru-inv-form-group\">\n              <div>\n                <div class=\"tru-inv-label\">Room</div>\n                <select id=\"invRoom\" class=\"tru-inv-select\">\n                  <option value=\"Living Room\">Living Room</option>\n                  <option value=\"Bedroom\">Bedroom</option>\n                  <option value=\"Kitchen\">Kitchen</option>\n                  <option value=\"Dining Room\">Dining Room</option>\n                  <option value=\"Office\">Office</option>\n                  <option value=\"Garage\">Garage</option>\n                  <option value=\"Other\">Other</option>\n                </select>\n              </div>\n              <div>\n                <div class=\"tru-inv-label\">Quantity</div>\n                <input type=\"number\" id=\"invQty\" class=\"tru-inv-input\" value=\"1\" min=\"1\">\n              </div>\n              <div>\n                <div class=\"tru-inv-label\">Approx lbs each</div>\n                <input type=\"number\" id=\"invWeight\" class=\"tru-inv-input\" placeholder=\"Approx.\" min=\"0\">\n              </div>\n            </div>\n\n            <button type=\"button\" class=\"tru-inv-btn-add\" id=\"invAddBtn\"><span>+ Add item to inventory</span></button>\n            <div class=\"tru-inv-small-hint\">Weight can be a rough guess. Movers will fine tune it later.</div>\n          </form>\n        </div>\n\n        <!-- Right -->\n        <div>\n          <div class=\"tru-inv-right-title\">Your move inventory</div>\n\n          <div class=\"tru-inv-table-wrap\">\n            <table class=\"tru-inv-table\">\n              <thead>\n                <tr>\n                  <th>Item</th>\n                  <th>Room</th>\n                  <th>Qty</th>\n                  <th>Weight each (lbs)</th>\n                  <th>Total weight (lbs)</th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody id=\"invTableBody\">\n                <tr><td colspan=\"6\" class=\"tru-inv-empty\">No items yet. Start by adding a sofa, bed, or boxes.</td></tr>\n              </tbody>\n            </table>\n          </div>\n\n          <div class=\"tru-inv-totals\">\n            <div class=\"tru-inv-total-block\">\n              <div class=\"tru-inv-total-label\">Total items</div>\n              <div class=\"tru-inv-total-value\" id=\"invTotalItems\">0</div>\n            </div>\n            <div class=\"tru-inv-total-block\">\n              <div class=\"tru-inv-total-label\">Estimated total weight</div>\n              <div class=\"tru-inv-total-value\" id=\"invTotalWeight\">0 lbs</div>\n            </div>\n            <div class=\"tru-inv-total-block\">\n              <div class=\"tru-inv-total-label\">Estimated move size</div>\n              <div class=\"tru-inv-total-value\" id=\"invMoveSizeLabel\">Waiting on items\u2026</div>\n            </div>\n          </div>\n\n          <div class=\"tru-inv-util-row\">\n            <button type=\"button\" class=\"tru-inv-util-btn\" id=\"invPrintBtn\"><span>\ud83d\udda8</span><span>Print inventory</span></button>\n            <button type=\"button\" class=\"tru-inv-util-btn\" id=\"invPdfBtn\"><span>\u2b07</span><span>Download as PDF</span></button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Step 2 -->\n    <div class=\"tru-quote-step-card\" id=\"truQuoteStep2\">\n      <div class=\"tru-quote-step-header\">\n        <div class=\"tru-quote-step-title\">Step 2, Get your AI powered quote and schedule</div>\n        <div class=\"tru-quote-step-pill\">Route, distance, move type</div>\n      </div>\n\n      <p class=\"tru-quote-step-sub\">\n        Your inventory is ready. Add where you are moving from and to, when you are moving, and your distance and move type\n        so TruMove can refine your price and route you to a call or video consult.\n      </p>\n\n      <div class=\"tru-quote-grid\">\n        <!-- Left form -->\n        <div>\n          <form onsubmit=\"return false;\" id=\"truQuoteForm\">\n            <div class=\"tru-quote-inline tru-quote-form-group\">\n              <div>\n                <div class=\"tru-quote-label\">Moving from (city or ZIP)</div>\n                <input type=\"text\" id=\"quoteFrom\" class=\"tru-quote-input\" placeholder=\"Example: Oakland Park, FL\">\n              </div>\n              <div>\n                <div class=\"tru-quote-label\">Moving to (city or ZIP)</div>\n                <input type=\"text\" id=\"quoteTo\" class=\"tru-quote-input\" placeholder=\"Example: Atlanta, GA\">\n              </div>\n            </div>\n\n            <div class=\"tru-quote-form-group\">\n              <div class=\"tru-quote-label\">Move type</div>\n              <div class=\"tru-quote-type-row\" id=\"quoteTypeRow\">\n                <button type=\"button\" class=\"tru-quote-type-pill\" data-type=\"local\">Local (usually under 150 miles)</button>\n                <button type=\"button\" class=\"tru-quote-type-pill\" data-type=\"long\">Long distance</button>\n              </div>\n            </div>\n\n            <div class=\"tru-quote-inline tru-quote-form-group\">\n              <div>\n                <div class=\"tru-quote-label\">Approx distance in miles</div>\n                <input type=\"number\" id=\"quoteDistance\" class=\"tru-quote-input\" placeholder=\"Example: 600\" min=\"1\">\n              </div>\n              <div>\n                <div class=\"tru-quote-label\">Target move date</div>\n                <input type=\"date\" id=\"quoteDate\" class=\"tru-quote-input\">\n              </div>\n            </div>\n\n            <div class=\"tru-quote-form-group\">\n              <div class=\"tru-quote-label\">Full name</div>\n              <input type=\"text\" id=\"quoteName\" class=\"tru-quote-input\" placeholder=\"Your full name\">\n            </div>\n\n            <div class=\"tru-quote-form-group\">\n              <div class=\"tru-quote-label\">Email and phone</div>\n              <div class=\"tru-quote-inline\">\n                <input type=\"email\" id=\"quoteEmail\" class=\"tru-quote-input\" placeholder=\"you@example.com\">\n                <input type=\"tel\" id=\"quotePhone\" class=\"tru-quote-input\" placeholder=\"(555) 555 5555\">\n              </div>\n            </div>\n\n            <button type=\"button\" class=\"tru-quote-btn-main\" id=\"quoteFinalizeBtn\">\n              <span>Finalize My Estimate</span>\n              <span>\u2192</span>\n            </button>\n\n            <div class=\"tru-quote-helper\">\n              Clicking \u201cFinalize My Estimate\u201d will create an email to TruMove with your rough estimate and a representative will reach out. By finalizing your estimate you authorize TruMove LLC to contact you.\n\n            </div>\n          </form>\n        </div>\n\n        <!-- Right snapshot -->\n        <div class=\"tru-quote-snapshot\">\n          <div class=\"tru-quote-snapshot-title\">Your move snapshot</div>\n          <div class=\"tru-quote-snapshot-sub\">Live view of what TruMove will use for your quote.</div>\n\n          <div class=\"tru-quote-snapshot-row\"><span>From</span><span id=\"snapFrom\">Not set</span></div>\n          <div class=\"tru-quote-snapshot-row\"><span>To</span><span id=\"snapTo\">Not set</span></div>\n          <div class=\"tru-quote-snapshot-row\"><span>Distance</span><span id=\"snapDistance\">Add miles</span></div>\n          <div class=\"tru-quote-snapshot-row\"><span>Move type</span><span id=\"snapMoveType\">Auto based on miles</span></div>\n          <div class=\"tru-quote-snapshot-row\"><span>Move date</span><span id=\"snapDate\">Select date</span></div>\n          <div class=\"tru-quote-snapshot-row\"><span>Total weight</span><span id=\"snapWeight\">0 lbs</span></div>\n\n          <div class=\"tru-quote-snapshot-divider\">\n            <!-- Rough estimate box lives here -->\n            <div class=\"tru-inv-estimate-box\">\n              <div class=\"tru-inv-estimate-line\">\n                Rough estimate based on your inventory, move type, and distance:\n                <strong id=\"invRoughPrice\">$0</strong>\n              </div>\n\n              <div class=\"tru-inv-size-pill\">\n                <div class=\"tru-inv-size-dot\"></div>\n                <span id=\"invSizePillText\">Add items and miles to see a starting range.</span>\n              </div>\n            </div>\n\n            <div class=\"tru-quote-size-chip\" id=\"snapSizeChip\" style=\"display:none;\">\n              <div class=\"tru-quote-size-dot\"></div>\n              <span id=\"snapSizeText\"></span>\n            </div>\n\n            <div class=\"tru-quote-cta-row\">\n              <button type=\"button\" class=\"tru-quote-cta-btn primary\" id=\"quoteVideoBtn\">\n                <span class=\"icon\">\ud83c\udfa5</span>\n                <span>Schedule video consult</span>\n              </button>\n              <button type=\"button\" class=\"tru-quote-cta-btn\" id=\"quoteCallBtn\">\n                <span class=\"icon\">\ud83d\udcde</span>\n                <span>Schedule a call</span>\n              </button>\n\t\t\t  <div class=\"tru-quote-helper\" style=\"margin-top:10px;\">\n  If you are not ready to call, schedule a video consult or call using the buttons above.\n</div>\n\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>" } />
  );
}
